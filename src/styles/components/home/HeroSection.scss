@use "sass:color";
@use "../../common/variables" as *;
@use "../../common/mixins" as *;

.hero-section {
  position: relative;
  width: 100%;
  height: 60rem; /* 전체 높이 고정 */
  margin-bottom: 15rem;

  /* Swiper (배경) */
  .hero-swiper {
    width: 100%;
    height: 100%;
    position: absolute; /* 절대 위치로 뒤에 깜 */
    top: 0;
    left: 0;
    z-index: 0; /* 맨 뒤 */

    .swiper-pagination-bullet {
      background: #fff; opacity: 0.6; width: 10px; height: 10px; transition: all 0.3s ease;
      &-active { opacity: 1; background: $color-mint; width: 25px; border-radius: 5px; }
    }
  }

  /* 개별 배경 이미지 */
  .hero-bg {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    position: relative;

    &::before {
      content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.4);
    }
  }

  /* ✅ [핵심 추가] 고정된 콘텐츠 오버레이 (슬라이드 안 됨) */
  .fixed-content-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 5; /* 배경보다 위에 뜸 */
    pointer-events: none; /* 배경의 클릭 이벤트를 막지 않도록 (선택사항) */

    .inner-content {
      width: 100%;
      max-width: 1440px;
      margin: 0 auto;
      padding: 0 2rem;
      height: 100%;
      position: relative;
      
      /* 내부 요소들은 클릭 가능해야 함 */
      pointer-events: auto; 
    }

    /* 왼쪽 텍스트 */
    .text-area {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      left: 2rem;
      color: #fff;
      
      h1 { 
        font-size: 4.8rem; font-weight: 800; line-height: 1.2; margin-bottom: 2rem; 
        text-shadow: 0 2px 10px rgba(0,0,0,0.5); 
      }
      p { 
        font-size: 1.8rem; text-shadow: 0 1px 5px rgba(0,0,0,0.5); 
      }
    }

    /* 오른쪽 유저 카드 (고정됨) */
    .user-dashboard-card {
      position: absolute;
      top: 8rem; 
      right: 2rem; 
      z-index: 20;

      width: 30rem; 
      background: #fff; 
      border-radius: 1.6rem; 
      padding: 2.5rem; 
      box-shadow: 0 1rem 3rem rgba(0,0,0,0.2);
      
      .card-header {
        display: flex; align-items: center; gap: 1.5rem; margin-bottom: 2rem;
        .avatar-large { width: 5rem; height: 5rem; background: #ddd; border-radius: 50%; }
        .user-info { 
          display: flex; flex-direction: column; 
          .name { font-weight: 700; font-size: 1.6rem; color: #112211; } 
          .status { color: #10b981; font-size: 1.2rem; font-weight: 600; } 
        }
      }
      
      .card-menu {
        li {
          display: flex; justify-content: space-between; align-items: center;
          padding: 1.2rem 0; font-size: 1.4rem; color: #112211; cursor: pointer;
          svg { margin-right: 1rem; width: 1.6rem; } .arrow { margin-left: auto; color: #999; }
          &.logout { margin-top: 1rem; border-top: 1px solid #eee; padding-top: 1.5rem; }
        }
      }
    }
  }

  /* 하단 검색창 */
  .search-bar-container {
    position: absolute; bottom: -8rem; left: 50%; transform: translateX(-50%);
    width: 100%; max-width: 1600px; background: #fff; border-radius: 2rem; padding: 3rem 4rem;
    box-shadow: 0 2rem 4rem rgba(0,0,0,0.08); z-index: 10;
    
    h3 { font-size: 2rem; font-weight: 700; margin-bottom: 2rem; color: #112211; }
    
    .search-inputs {
      display: flex; gap: 2rem;
      
      .input-group { 
        flex: 1; 
        label { display: block; font-size: 1.2rem; font-weight: 700; margin-bottom: 0.8rem; color: #112211; } 
        
        .input-field { 
          display: flex; align-items: center; gap: 1rem; padding: 1.2rem; 
          border: 1px solid #ccc; border-radius: 0.8rem; 
          &.pointer { cursor: pointer; }
          
          /* 텍스트, 셀렉트 */
          input[type="text"], select { 
            width: 100%; border: none; outline: none; font-size: 1.4rem; 
          }

          /* ✅ DatePicker 입력창 스타일 (투명하게) */
          .custom-datepicker {
            width: 100%;
            border: none;
            outline: none;
            font-size: 1.4rem;
            font-family: inherit;
            color: #112211;
            background: transparent;
            cursor: pointer;
          }
          
          /* react-datepicker 래퍼가 flex를 방해하지 않도록 */
          .react-datepicker-wrapper {
            width: 100%;
          }
          
          .guest-text {
            width: 100%;
            font-size: 1.4rem;
            color: #112211;
            font-weight: 500;
          }
        }

        /* ✅ 인원 선택 팝업 스타일 */
        .guest-popup {
          position: absolute;
          top: 100%;
          left: 0;
          width: 100%;
          background: #fff;
          border-radius: 1.6rem;
          padding: 2rem;
          margin-top: 1rem;
          box-shadow: 0 1rem 3rem rgba(0,0,0,0.15);
          z-index: 20;
          border: 1px solid rgba(0,0,0,0.05);

          .divider {
            height: 1px;
            background: #eee;
            margin: 1.5rem 0;
          }

          .counter-row {
            display: flex;
            justify-content: space-between;
            align-items: center;

            .label {
              font-size: 1.4rem;
              font-weight: 700;
              color: #112211;
            }

            .counter-controls {
              display: flex;
              align-items: center;
              gap: 1.5rem;

              button {
                width: 3.2rem;
                height: 3.2rem;
                border-radius: 0.8rem;
                border: none;
                background-color: #8DD3BB; /* 민트색 */
                color: #112211;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                transition: 0.2s;

                &:hover {
                  background-color: darken(#8DD3BB, 10%);
                }

                &:disabled {
                  background-color: #eee;
                  color: #aaa;
                  cursor: not-allowed;
                }
                
                svg { font-size: 1.2rem; }
              }

              .count {
                font-size: 1.6rem;
                font-weight: 700;
                color: #112211;
                width: 1.5rem;
                text-align: center;
              }
            }
          }
        }
      }
    }
  }
}

/* =========================================
   ✅ 커스텀 달력 팝업 스타일 
   ========================================= */
.react-datepicker {
  font-family: inherit;
  border-radius: 1.2rem !important;
  border: none !important;
  box-shadow: 0 1rem 3rem rgba(0,0,0,0.2);
  font-size: 1.4rem !important; 
}

/* 달력 헤더 (배경) */
.react-datepicker__header {
  background-color: #8DD3BB !important; /* 민트색 */
  border-bottom: none !important;
  border-radius: 1.2rem 1.2rem 0 0 !important;
  padding: 1.5rem !important;
}

/* 현재 월 표시 */
.react-datepicker__current-month {
  color: #112211 !important;
  font-size: 1.6rem !important;
  margin-bottom: 1rem;
}

/* 날짜 숫자들 */
.react-datepicker__day {
  width: 3rem !important;
  height: 3rem !important;
  line-height: 3rem !important;
  margin: 0.3rem !important;
  border-radius: 50% !important;
  transition: 0.2s;

  &:hover {
    background-color: #CDECE1 !important;
    color: #112211;
  }
}

/* 선택된 날짜 */
.react-datepicker__day--selected {
  background-color: #112211 !important; 
  color: #fff !important;
  font-weight: 700;
}
.react-datepicker__day--outside-month {
  visibility: hidden;
  pointer-events: none; 
}

/* 화살표 버튼 */
.react-datepicker__navigation {
  top: 1.5rem !important;
}
.react-datepicker__day-names {
  display: flex !important;
  justify-content: center;
  margin-top: 1rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.3); 
  padding-bottom: 0.5rem;
}

/* ✅ [수정됨] 요일 글씨: 기본 흰색 */
.react-datepicker__day-name {
  color: #fff !important; /* 기본 흰색으로 변경 */
  font-weight: 700;
  width: 3rem !important; 
  line-height: 1.5;
  margin: 0 0.3rem !important;
  text-align: center;
  text-transform: uppercase; 
}

/* ✅ [수정됨] 일요일(첫번째)만 빨간색 */
.react-datepicker__day-name:first-child {
  color: #FF6B6B !important; 
}